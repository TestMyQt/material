// Lisätään Qt objectista jotain http://doc.qt.io/qt-5/qml-qtqml-qt.html

# 3.03 Basic QML Types

## Qt Object

`Qt` QML type provides a global object with useful enums and functions from Qt. It is not instantiable; to use it, call the members of the global `Qt` object directly. For example:

```qml
import QtQuick 2.0

Text {
    color: Qt.rgba(1, 0, 0, 1)
    text: Qt.md5("hello, world")
}
```

See the documentation for [Qt QML Type](http://doc.qt.io/qt-5/qml-qtqml-qt.html) too see all the things it provides.

## Rectangle

[Rectangle](http://doc.qt.io/qt-5/qml-qtquick-rectangle.html) items are used to fill areas with solid color or gradients, and/or to provide a rectangular border.

Each `Rectangle` item is painted using either a solid fill color, specified using the color property, or a gradient, defined using a `Gradient` type and set using the gradient property. If both a color and a gradient are specified, the gradient is used.

You can add an optional border to a rectangle with its own color and thickness by setting the `border.color` and `border.width` properties. Set the color to "transparent" to paint a border without a fill color.

You can also create rounded rectangles using the `radius` property. Since this introduces curved edges to the corners of a rectangle, it may be appropriate to set the `Item::antialiasing` property to improve its appearance.

If you need random shapes instead of rectangles, look into the `Shape` type.

For example:

```qml
import QtQuick 2.0

Rectangle {
    width: 100
    height: 100
    color: "red"
    border.color: "black"
    border.width: 5
    radius: 10
}
```

## Image

[Image](https://doc.qt.io/qt-5/qml-qtquick-image.html) type displays an image from an URL specified in the `source` property. `Image` type can handle Qt supported URLs and image types (PNG, JPEG, SVG, ...).

The source image can naturally be smaller or bigger than the `Image` item. With the `fillMode` property, you can choose the strategy used when painting the image inside the item.

By default, images are loaded from network resources asynchronously in a separate thread. This way slow networks won't block the UI. Local files are loaded synchronously by default, and this can be overridden by setting the [`asynchronous`](https://doc.qt.io/qt-5/qml-qtquick-image.html#asynchronous-prop) property to `true`. Asynchronous loading is beneficial if there are big files that are not needed be displayed right away in the UI.

To monitor the state of an image, `Image` has [`progress`](https://doc.qt.io/qt-5/qml-qtquick-image.html#progress-prop) and [`status`](https://doc.qt.io/qt-5/qml-qtquick-image.html#status-prop) properties. They can be bound to visualizations in the UI, for example.

When using images with QML, they are often the greatest user of memory in the UI. To minimize memory usage of images that are not part of UI (like user provided resources), they should have their size bounded with the [`sourceSize`](https://doc.qt.io/qt-5/qml-qtquick-image.html#sourceSize-prop) property. `sourceSize` dictates the actual width and height of the loaded image, while the `width` and `height` properties hold the dimensions where the image will be scaled to.

```qml
import QtQuick 2.0

Image {
    id: bigImage
    anchors.fill: parent
    asynchronous: true
    onStatusChanged: {
        visible: bigImage.status == Image.Ready ? true : false
    }
    source: "bigImage.jpg"
    sourceSize.width: 1024
    sourceSize.height: 1024
}
```

Image data is cached and shared internally, so when using the same `source` the objects will use the same data.

## BorderImage

The [BorderImage](https://doc.qt.io/qt-5/qml-qtquick-borderimage.html) type is used to form a border out of parts of an image by scaling or tiling.

`BorderImage` divides the source image into 9 regions like this:

![BorderImage]({{ "/assets/images/part-2/borderimage2.png" | absolute_url }})

The regions are defined with the `border` property group. Regions formed from the source image are scaled or tiled to create the displayed border image in the following way:

* The corners (regions 1, 3, 7, and 9) are not scaled at all.
* Regions 2 and 8 are scaled according to `horizontalTileMode`.
* Regions 4 and 6 are scaled according to `verticalTileMode`.
* The middle (region 5) is scaled according to both `horizontalTileMode` and `verticalTileMode`.

If the TileMode is set to `Stretch`, the parts of the image are stretched vertically/horizontally if needed. If it's set to `Repeat` the parts of the image are instead repeated. When the width/height of the border regions 2, 4, 6, 8 cannot be repeated in exact multiples of the target width/height, the tilemode [`BorderImage.Round`](https://doc.qt.io/qt-5/qml-qtquick-borderimage.html#horizontalTileMode-prop) can be used to scale the regions to fit in the target.

Example usage:
```qml
BorderImage {
    width: 180; height: 180
    border { left: 30; top: 30; right: 30; bottom: 30 }
    horizontalTileMode: BorderImage.Repeat
    verticalTileMode: BorderImage.Repeat
    source: "pics/borderframe.png"
}
```

## Text

[Text](https://doc.qt.io/qt-5/qml-qtquick-text.html) type can display plain or rich text (using [HTML markup](https://doc.qt.io/qt-5/richtext-html-subset.html)).
To have user editable text you can use [`TextEdit`](https://doc.qt.io/qt-5/qml-qtquick-textedit.html), which is very similar to `Text` type. 

```qml
import QtQuick 2.0

Text {
    text: "Hello <b>World</b>!"
    font.family: "Helvetica"
    font.pointSize: 24
    color: "red"
}
```

If the `height` and `width` are not explicitly set, `Text` will try to accomodate the dimensions to the text. Generally explicitly setting the size is unoptimal because it causes a layout re-calculcation, so set it if you need to.

To enable text wrapping, [`wrapMode`](https://doc.qt.io/qt-5/qml-qtquick-text.html#wrapMode-prop) needs to be set, otherwise the text will laid on one line.

To customize the font, the properties in group `font` can be changed:
* [`font.family`](https://doc.qt.io/qt-5/qml-qtquick-textedit.html#font.family-prop) choose the family of the font
* [`font.pointSize`](http://doc.qt.io/qt-5/qml-qtquick-text.html#font.pointSize-prop) sets the font size in device independent points
* [`font.pixelSize`](http://doc.qt.io/qt-5/qml-qtquick-text.html#font.pixelSize-prop) sets the font size pixels

To style the text, the property [`style`](http://doc.qt.io/qt-5/qml-qtquick-text.html#style-prop) can be used to change the style to either `Raised`, `Outline` or `Sunken`. Use [`styleColor`](http://doc.qt.io/qt-5/qml-qtquick-text.html#styleColor-prop) to change the color of the added styling

```qml
Row {
    Text { font.pointSize: 24; text: "Normal" }
    Text { font.pointSize: 24; text: "Raised"; style: Text.Raised; styleColor: "#AAAAAA" }
    Text { font.pointSize: 24; text: "Outline";style: Text.Outline; styleColor: "green" }
    Text { font.pointSize: 24; text: "Sunken"; style: Text.Sunken; styleColor: "#AAAAAA" }
}
```

To scale text with other items, you can
* bind the [`font.pixelSize`](http://doc.qt.io/qt-5/qml-qtquick-text.html#font.pixelSize-prop) property to any item geometry
* set the [`fontSizeMode`](http://doc.qt.io/qt-5/qml-qtquick-text.html#fontSizeMode-prop) to scale the text size

```qml
Rectangle { 
    width: 400
    height: 400
    color: "lightblue" 
    
    
    Text { 
        x: parent.width * 0.25
        y: parent.height * 0.25 
        
        text: "Qt Quick"
        font {
            family: "Sans"
            pixelSize: parent.width * 0.1
        } 
    } 
}
```

You can also use [FontMetrics](https://doc.qt.io/qt-5/qml-qtquick-fontmetrics.html) to get the geometry of a certain font:

```qml
Rectangle {

    FontMetrics {
        id: metrics
        font.pointSize: 20
        font.family: "Courier"
    }

    width: 200
    height: metrics.height * 10
    
}
```

***

## Exercise - PictureFrame

Implement a simple picture frame that will display an image and a caption text in this component.

You can use your own image file if you want!

You will need to add or modify the following items:

Image
- Export the source property of your Image item
- Center the image inside the BorderImage (anchors.centerIn: ...)

BorderImage
- Use the frame.png as the image source, it is approx 85 pixels "wide" in any dimension
- As a frame naturally encloses a picture, declare the width/height to adapt to image size

Text
- Export the text property of 'caption'
- Style the text with an outline style

*****
